> [!caution]
>
> 1. 对于git：确保所有**git操作都在Linux中完成**，Windows只负责可视化查看
> 2. 对于文件创建与修改：Windows尽量只关注 `.v, .sv, .py, .c, .Makefile` 等源码文件，其他文件不要尝试在Windows下修改与保存
>    - **判断标准**：只要是 **“文本格式”** 且 **“不是由工具自动生成”** 的文件，你都可以在 Windows 下放心地编辑。
> 3. 对于**软链接**：看到 Z: 盘里有打不开的奇怪文件，**千万不要删，也不要试图修复**。一旦在 Windows 下动了它，Linux 下的链接关系就断了。
> 4. 对于`make clean`：在**提交代码（`git add .`）之前**，或者在**关闭虚拟机之前**，**务必在 Linux 终端执行 `make clean`**。
>    - 关机前 `make clean` 是为了**保护物理磁盘空间**和**避免文件锁冲突**。
> 5. 最后达到的效果：
>    - Windows 前端：用 VS Code + Copilot 舒服地写代码。
>    - Linux 后端：用 VCS + Verdi 专业的仿真，并通过git将代托管在 GitHub。

---

现在的状态是：**代码存储和编译在 Linux（为了 EDA 工具），代码编辑在 Windows（为了效率和 AI）。**

为了让你在这个环境下“飙车”时不翻车，我有以下几条**Samba 共享磁盘（Z: 盘）的“交通规则”和使用禁忌**，请务必留意：

### 1. 核心铁律：不要在 Windows 下操作 Linux 的“中间文件”

这是新手最容易犯的错误，可能会导致 VCS 编译失败或文件损坏。

- **禁区：** 永远不要试图用 Windows 记事本或 VS Code 去修改、保存 VCS 生成的二进制文件或文件夹。
  - 例如：`csrc/` 文件夹、`simv` 可执行文件、`simv.daidir/`、`*.vpd`、`*.fsdb`。
- **后果：** 这些文件在 Linux 下有特殊的权限和链接关系，Windows 一旦介入（比如你手滑点了个保存，或者杀毒软件扫描了一下），可能会破坏文件锁，导致下次仿真报错。
- **建议：** 在 VS Code 的左侧文件树中，尽量只关注 `.v`, `.sv`, `.py`, `.c`, `.Makefile` 等源码文件。

### 2. 软链接（Symbolic Links）是“隐形地雷”

Linux 系统中经常使用“软链接”（类似 Windows 的快捷方式，但更底层）。

- **现象：** 在 Z: 盘中，Linux 的软链接在 Windows 下通常会显示为一个**大小为 0KB 的文件**，或者直接打不开。
- **警告：** 如果你看到这种打不开的文件，**千万不要在 Windows 下把它删了或重命名**。你在 Windows 下删掉它，Linux 下原本指向的那个真实连接就断了。

### 3. 大小写敏感性差异（Case Sensitivity）

- **Linux（服务端）：** `MyModule.v` 和 `mymodule.v` 是两个完全不同的文件。
- **Windows（客户端）：** `MyModule.v` 和 `mymodule.v` 是同一个文件。
- **潜在坑：** 如果你在 Linux 下不小心创建了两个名字只差大小写的文件，你在 Windows 的 Z: 盘里可能只能看到其中一个，或者打开时报错。
- **习惯：** 养成良好的命名习惯，Verilog 文件名尽量全小写，或者保持严格统一的驼峰命名。

### 4. 性能瓶颈：大文件操作

Samba 毕竟是基于网络的协议（SMB），它的速度取决于你的虚拟网卡速度。

- **不要做的事：** 不要试图在 Windows 的 Z: 盘里解压巨大的压缩包（比如几个 G 的 EDA 安装包）。
- **正确做法：** 把压缩包扔进 Z: 盘，然后**去 SSH 终端里用 `tar` 命令解压**。
  - Windows 解压路径：Windows读 -> 解压 -> Windows写回Z盘（双倍流量，极慢）。
  - Linux 解压路径：本地读 -> 本地写（极快）。

### 5. Git 操作的“主战场”选择

虽然你可以在 Windows 下用 TortoiseGit 或 VS Code 自带的 Git 插件，但我**强烈建议你在 Linux 终端（VS Code 下方的 Terminal）里敲 Git 命令**。

- **原因：**
  1. **文件权限（chmod +x）：** Windows 文件系统不支持 Linux 的 `+x`（可执行）权限位。如果你在 Windows 下提交，脚本文件（如 `run.sh` 或 Python 脚本）可能会丢失可执行权限。
  2. **换行符风险：** 虽然你有 `.editorconfig`，但在 Linux 端提交是 100% 安全的“原生环境”。

### 6. 虚拟机挂起/关机的影响

- **现象：** 当你把 VMware 虚拟机**挂起（Suspend）\**或者\**关机**后，你的 Z: 盘会瞬间断开。
- **后果：** 此时如果你点击 VS Code 里的文件，VS Code 可能会**卡死（无响应）**几秒钟，因为它在尝试重连网络。
- **建议：** 每次开始工作前，先启动虚拟机；工作结束后，先关掉 VS Code，再挂起虚拟机。

### 总结建议

把 Z: 盘当成一个**“只能用来写代码的远程仓库”**。

- **能做的：** 新建/编辑/保存源码、查看目录结构、阅读文档。
- **去 Linux 终端做的：** 编译（VCS）、解压大文件、Git 提交、文件权限修改（chmod）、重命名（mv）。

